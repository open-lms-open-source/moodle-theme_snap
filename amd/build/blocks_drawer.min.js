define("theme_snap/blocks_drawer",["exports","theme_boost/drawers"],(function(_exports,_drawers){var obj;
/**
   * Blocks drawer module.
   * Drawer related logic.
   *
   * @module     theme_snap/blocks_drawer
   * @copyright  2025 Copyright (c) 2024 Open LMS (https://www.openlms.net)
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_drawers=(obj=_drawers)&&obj.__esModule?obj:{default:obj};const SELECTORS_ADMIN_MENU_TRIGGER="admin-menu-trigger",SELECTORS_DRAWER_OPEN_BUTTON=".drawer-toggler.drawer-right-toggle > button",SELECTORS_SNAP_FEEDS_TRIGGER="snap_feeds_side_menu_trigger",SELECTORS_BLOCK_SETTINGS=".block_settings",SELECTORS_DRAWER=".drawer",showDrawerOpenButton=()=>{const drawerOpenButton=document.querySelector(SELECTORS_DRAWER_OPEN_BUTTON);drawerOpenButton&&(drawerOpenButton.style.display="inline-block")},hideDrawerOpenButton=()=>{const drawerOpenButton=document.querySelector(SELECTORS_DRAWER_OPEN_BUTTON);drawerOpenButton&&(drawerOpenButton.style.display="none")};_exports.init=()=>{(()=>{const adminMenuTrigger=document.getElementById(SELECTORS_ADMIN_MENU_TRIGGER),snapFeedsTrigger=document.getElementById(SELECTORS_SNAP_FEEDS_TRIGGER);adminMenuTrigger&&adminMenuTrigger.addEventListener("click",(()=>{_drawers.default.closeAllDrawers(),setTimeout((()=>{adminMenuTrigger.classList.contains("active")?hideDrawerOpenButton():showDrawerOpenButton()}),200)})),snapFeedsTrigger&&snapFeedsTrigger.addEventListener("click",(()=>{_drawers.default.closeAllDrawers(),setTimeout((()=>{"true"===snapFeedsTrigger.getAttribute("aria-expanded")?hideDrawerOpenButton():showDrawerOpenButton()}),200)})),document.addEventListener(_drawers.default.eventTypes.drawerShow,(e=>{const originalPreventOverlap=e.detail.drawerInstance.preventOverlap;e.detail.drawerInstance.preventOverlap=()=>{document.querySelector(SELECTORS_DRAWER_OPEN_BUTTON)!=document.activeElement&&originalPreventOverlap.call(document.activeElement)}}),!0),document.addEventListener("focusin",(e=>{(document.querySelector(SELECTORS_DRAWER).contains(document.activeElement)||"BODY"===document.activeElement.tagName||"BUTTON"===document.activeElement.tagName)&&e.stopPropagation()}),!0),document.addEventListener("focusout",(e=>{(document.querySelector(SELECTORS_DRAWER).contains(document.activeElement)||"BODY"===document.activeElement.tagName||"BUTTON"===document.activeElement.tagName)&&e.stopPropagation()}),!0)})(),(()=>{const settingsBlock=document.querySelector(SELECTORS_BLOCK_SETTINGS);if(settingsBlock){settingsBlock.parentNode.removeChild(settingsBlock);const drawer=document.querySelector(SELECTORS_DRAWER);drawer.parentNode.insertBefore(settingsBlock,drawer)}})()}}));

//# sourceMappingURL=blocks_drawer.min.js.map