define ("theme_snap/model_view",["jquery","core/notification","core/templates","core/log"],function(a,b,c,d){return function(e,f,g){var h=function(b,c,d){var e=[];a.each(a(b)[0].attributes,function(){if("data-model"==this.name){return!0}if(d&&"id"==this.name){return!0}e.push(this.name);a(c).attr(this.name,this.value);return!0});a.each(a(c)[0].attributes,function(){if(-1==e.indexOf(this.name)){a(c).removeAttr(this.name)}})},i=function(i,j){if(!i){d.debug("Using data element for model");i=a(e).data("model")}else{d.debug("Using object for model")}for(var k in i){g[k]=i[k]}a(e).data("model",g);c.render(f,g).done(function(b){var c=a(a.parseHTML(b));a(e).html(c.html());h(c,a(e),!0);if("function"==typeof j){j()}a(e).trigger("modelUpdated")}).fail(b.exception)},j=function(){if(!g&&a(e).data("model")){g=a(e).data("model")}if(1!=a(e).data("modelInitialised")){a(e).on("modelUpdate",function(a,b,c){i(b,c)})}a(e).data("modelInitialised",1)};j()}});
//# sourceMappingURL=model_view.min.js.map
