{"version":3,"sources":["../src/util.js"],"names":["define","$","staticSupportsSessionStorage","whenTrue","func","callBack","forceCallBack","maxIterations","i","self","window","setTimeout","scrollToElement","el","navheight","outerHeight","length","scrtop","offset","top","animate","scrollTop","supportsSessionStorage","sessionStorage","setItem","removeItem","e"],"mappings":"yQAqBAA,OAAM,mBAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAE3B,GAAIC,CAAAA,CAA4B,CAAG,IAAnC,CAKA,MAAO,CAUHC,QAAQ,CAAE,kBAASC,CAAT,CAAeC,CAAf,CAAyBC,CAAzB,CAAwCC,CAAxC,CAAuDC,CAAvD,CAA0D,CAChED,CAAa,CAAG,CAACA,CAAD,CAAiB,EAAjB,CAAsBA,CAAtC,CACAC,CAAC,CAAG,CAACA,CAAD,CAAK,CAAL,CAASA,CAAC,CAAG,CAAjB,CACA,GAAIA,CAAC,CAAGD,CAAR,CAAuB,CAEnB,GAAID,CAAJ,CAAmB,CACfD,CAAQ,EACX,CACD,MACH,CACD,GAAID,CAAI,EAAR,CAAY,CACRC,CAAQ,EACX,CAFD,IAEO,CACH,GAAII,CAAAA,CAAI,CAAG,IAAX,CACAC,MAAM,CAACC,UAAP,CAAkB,UAAW,CACzBF,CAAI,CAACN,QAAL,CAAcC,CAAd,CAAoBC,CAApB,CAA8BC,CAA9B,CAA6CC,CAA7C,CAA4DC,CAA5D,CACH,CAFD,CAEG,GAFH,CAGH,CACJ,CA5BE,CAkCHI,eAAe,CAAE,yBAASC,CAAT,CAAa,CAC1B,GAAIC,CAAAA,CAAS,CAAGb,CAAC,CAAC,SAAD,CAAD,CAAac,WAAb,EAAhB,CAEA,GAAI,CAACF,CAAE,CAACG,MAAR,CAAgB,CAEZ,MACH,CACD,GAAgB,CAAZ,CAAAH,CAAE,CAACG,MAAP,CAAmB,CAEf,MACH,CACD,GAAIC,CAAAA,CAAM,CAAGJ,CAAE,CAACK,MAAH,GAAYC,GAAZ,CAAkBL,CAA/B,CACAb,CAAC,CAAC,YAAD,CAAD,CAAgBmB,OAAhB,CAAwB,CACpBC,SAAS,CAAEJ,CADS,CAAxB,CAEG,GAFH,CAGH,CAjDE,CAuDHK,sBAAsB,CAAE,iCAAW,CAC/B,GAAqC,IAAjC,GAAApB,CAAJ,CAA2C,CACvC,MAAOA,CAAAA,CACV,CACD,GAAqC,QAAjC,WAAOQ,MAAM,CAACa,cAAd,CAAJ,CAA+C,CAC3C,GAAI,CACAb,MAAM,CAACa,cAAP,CAAsBC,OAAtB,CAA8B,gBAA9B,CAAgD,CAAhD,EACAd,MAAM,CAACa,cAAP,CAAsBE,UAAtB,CAAiC,gBAAjC,EACAvB,CAA4B,GAC/B,CAAC,MAAOwB,CAAP,CAAU,CACRxB,CAA4B,GAC/B,CACJ,CACD,MAAOA,CAAAA,CACV,CArEE,CAuEV,CA9EK,CAAN","sourcesContent":["/**\n * This file is part of Moodle - http://moodle.org/\n *\n * Moodle is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Moodle is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @package   theme_snap\n * @copyright Copyright (c) 2016 Blackboard Inc. (http://www.blackboard.com)\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n\n    var staticSupportsSessionStorage = null;\n\n    /**\n     * General utilities library.\n     */\n    return {\n        /**\n         * On function evaluating true.\n         *\n         * @param {function} func\n         * @param {function} callBack\n         * @param {boolean} forceCallBack\n         * @param {number} maxIterations\n         * @param {number} i\n         */\n        whenTrue: function(func, callBack, forceCallBack, maxIterations, i) {\n            maxIterations = !maxIterations ? 10 : maxIterations;\n            i = !i ? 0 : i + 1;\n            if (i > maxIterations) {\n                // Error, too long waiting for function to evaluate true.\n                if (forceCallBack) {\n                    callBack();\n                }\n                return;\n            }\n            if (func()) {\n                callBack();\n            } else {\n                var self = this;\n                window.setTimeout(function() {\n                    self.whenTrue(func, callBack, forceCallBack, maxIterations, i);\n                }, 200);\n            }\n        },\n\n        /**\n         * Scroll a specific dom element into the viewport.\n         * @param {Object} el\n         */\n        scrollToElement: function(el) {\n            var navheight = $('#mr-nav').outerHeight();\n\n            if (!el.length) {\n                // Element does not exist so exit.\n                return;\n            }\n            if (el.length > 1) {\n                // If collection has more than one element then exit - we can't scroll to more than one element!\n                return;\n            }\n            var scrtop = el.offset().top - navheight;\n            $('html, body').animate({\n                scrollTop: scrtop\n            }, 600);\n        },\n\n        /**\n         * Does the browser support session storage?\n         * @returns {null|bool}\n         */\n        supportsSessionStorage: function() {\n            if (staticSupportsSessionStorage !== null) {\n                return staticSupportsSessionStorage;\n            }\n            if (typeof window.sessionStorage === 'object') {\n                try {\n                    window.sessionStorage.setItem('sessionStorage', 1);\n                    window.sessionStorage.removeItem('sessionStorage');\n                    staticSupportsSessionStorage = true;\n                } catch (e) {\n                    staticSupportsSessionStorage = false;\n                }\n            }\n            return staticSupportsSessionStorage;\n        }\n    };\n});\n"],"file":"util.min.js"}