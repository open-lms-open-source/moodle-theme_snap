define ("theme_snap/dndupload-lazy",["jquery","core/yui","theme_snap/util"],function(a,b,c){var d=this;d.dndupload=null;d.init=function(a){c.whenTrue(function(){return"undefined"!=typeof M.course_dndupload},function(){d.dndupload=M.course_dndupload;b.use("node","event","json","anim","moodle-core-notification-alert",function(b){d.decorateCourseDNDUpload(b,a)})},!0)};d.decorateCourseDNDUpload=function(b,c){if("undefined"!=typeof themeSnapCourseFileHandlers&&themeSnapCourseFileHandlers){c.handlers=themeSnapCourseFileHandlers}else{c.handlers={}}var e=["gif","jpe","jpg","jpeg","png","svg","svgz","webp","mp3"],f=[];for(var g in c.handlers.filehandlers){var h=c.handlers.filehandlers[g];if(h&&h.module){if("label"!==h.module||-1===e.indexOf(h.extension.toLowerCase())){f.push(h)}}}c.handlers.filehandlers=f;d.dndupload.init(b,c);a(".js-snap-drop-file").change(function(){for(var c=a(this).attr("id").replace("snap-drop-file-",""),e=b.one("#section-"+c),f,g=0;g<this.files.length;g++){f=this.files.item(g);d.dndupload.handle_file(f,e,c)}})};return{init:d.init}});
//# sourceMappingURL=dndupload-lazy.min.js.map
