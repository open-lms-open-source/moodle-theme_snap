{"version":3,"file":"sharing_cart.min.js","sources":["../src/sharing_cart.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n *  Sharing Cart\n *\n *  @package\n *  @copyright  Copyright (c) 2020 Open LMS (https://www.openlms.net)\n *  @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\n\n/** @var {Object}  The icon configurations */\nconst icon = {\n    // Actions\n    'backup': {\n        css: 'editing_backup',\n        iconClass: 'fa fa-frown-o',\n    },\n};\n\nexport default class SharingCartForSnap {\n    constructor(params) {\n        this.snapSpinner = '';\n        this.courseSections = params.courseSections;\n        this.params = params;\n    }\n\n    /**\n     * Get a string from moodle\n     * @param {String} identifier\n     * @returns {String}\n     */\n    str = (identifier) => {\n        return M.str.block_sharing_cart[identifier] || M.str.moodle[identifier];\n    };\n    /**\n     * Sets a create command pointer\n     * @param {string} name\n     */\n    create_command = (name) => {\n        const iconElement = $('<i/>')\n            .attr('alt', this.str(name))\n            .attr('class', icon[name].iconClass);\n        return $('<a href=\"javascript:void(0)\"/>')\n            .addClass(icon[name].css)\n            .attr('title', this.str(name))\n            .append(iconElement);\n    };\n    /**\n     *  Create a custom command icon\n     *  @param {String} cssClass The css class for the icon\n     *  @param {String} title The title and tooltip for the icon\n     *  @param {String} imageUrl Image URL for the icon\n     */\n    create_special_activity_command = (cssClass, title, imageUrl) => {\n        return $('<a href=\"javascript:void(0)\"/>')\n            .addClass(cssClass)\n            .addClass('dropdown-item menu-action cm-edit-action')\n            .attr('title', title)\n            .append(\n                $('<img class=\"icon\"/>')\n                    .attr('alt', title)\n                    .attr('src', imageUrl)\n            );\n    };\n    /**\n     * Adds a spinner when necessary\n     * @param {function} spinner\n     */\n    addSpinner = (spinner) => {\n        if (this.snapSpinner) {\n            this.snapSpinner.show();\n        } else {\n            this.snapSpinner = spinner;\n        }\n    };\n    /**\n     * Hides the spinner if exist\n     */\n    hideSpinner = () => {\n        if (this.snapSpinner) {\n            this.snapSpinner.hide();\n        }\n    };\n\n    /**\n     *  Get an action URL\n     *\n     *  @param {String} name   The action name\n     *  @param {Object} [args] The action parameters\n     *  @return {String}\n     */\n    get_action_url = (name, args) => {\n        let url = M.cfg.wwwroot + '/blocks/sharing_cart/' + name + '.php';\n        if (args) {\n            const q = [];\n            for (let k in args) {\n                q.push(k + '=' + encodeURIComponent(args[k]));\n            }\n            url += '?' + q.join('&');\n        }\n        return url;\n    };\n\n    /**\n     * Creates a custom modal when restoring a sharing cart activity/module\n     * @param {Object} input\n     */\n    onRestore = (input) => {\n        const restore_targets = input.restore_targets;\n        const course = input.params.course;\n        const get_action_url = input.get_action_url;\n        const id = input.id;\n        var sectionsURLs = [];\n        this.params.sectionsjs.forEach(function(section) {\n            var urlArray = {\n                'directory': restore_targets.is_directory,\n                'target': id,\n                'course'   : course.id,\n                'section'  : section.num,\n                'sesskey'  : M.cfg.sesskey,\n                'returnurl': document.URL,\n                'in_section': $('#copy-section-form').data('in-section')\n            };\n            var url = get_action_url('restore', urlArray);\n\n            var sectionName = null;\n            if (section.name === null) {\n                $('#chapters').find('.chapter-title').each(function() {\n                    var currSection = $(this).attr('href');\n                    if (currSection == '#section-'+section.num) {\n                        sectionName = $(this).text();\n                    }\n                });\n            } else {\n                sectionName = section.name;\n            }\n            var sectionURL = {\n                name : sectionName,\n                url : url\n            };\n            sectionsURLs.push(sectionURL);\n        });\n\n        ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: M.str.block_sharing_cart['restore'],\n            body: ((sections) => {\n                var s = M.str.block_sharing_cart['snap_dialog_restore'];\n                // Create Select element.\n                s += '<select id=\"select-dialog\" class=\"custom-select\">';\n                for(var i = 0; i < sections.length; i++) {\n                    s += '<option value=\"' + sections[i].url + '\">' + sections[i].name + '</option>';\n                }\n                s += '</select> <br> <br>';\n                return s;\n            })(sectionsURLs)\n        })\n            .done(function(modal) {\n                modal.show();\n                modal.getRoot().on(ModalEvents.save, function() {\n                    window.location.href = $('#select-dialog').val();\n                });\n                modal.getRoot().on(ModalEvents.cancel, function() {\n                    modal.destroy();\n                });\n            });\n    };\n\n    /**\n     *\n     * @param {node} $activity\n     * @param {object} iconBackup\n     * @param {function} on_backup\n     */\n    add_backup_command = ($activity, iconBackup, on_backup) => {\n        var $menu = $activity.find(\"ul[role='menu']\");\n\n        if($menu.length)\n        {\n            var li = $menu.find('li').first().clone();\n            var $backup = li.find('a').attr('title', this.str('backup'))\n                .attr('href', 'javascript:void(0)'); //eslint-disable-line no-script-url\n            var img = li.find('img');\n\n            if (img.length) {\n                li.find('img')\n                    .attr('alt', this.str('backup'))\n                    .attr('title', this.str('backup'))\n                    .attr('src', M.util.image_url(iconBackup.pix));\n            } else {\n                li.find('i')\n                    .attr('class', 'icon fa fa-upload')\n                    .attr('title', this.str('backup'))\n                    .attr('aria-label', this.str('backup'));\n            }\n\n            li.find('span').html(this.str('backup'));\n            $menu.append(li);\n        }\n        else\n        {\n            var $backup = this.create_command(\"backup\");\n            if ($('#page-course-view-tiles').length) {\n                $menu = $activity.find('div[role=\"menu\"]');\n            } else {\n                $menu = $activity.find('div.snap-edit-more-dropdown ul.dropdown-menu');\n            }\n            if($menu.length)\n            {\n                const cssClass = iconBackup.css;\n                const title = this.str('backup');\n                const imageUrl =  M.util.image_url(iconBackup.pix);\n                $backup = this.create_special_activity_command(cssClass, title, imageUrl);\n\n                if($menu.css(\"display\") === \"none\")\n                {\n                    var $button = $menu.find('.editing_backup');\n                    if ($button.length == 0) {\n                        $menu.append($backup);\n                        $backup.append($(\"<span class='menu-action-text'/>\").append($backup.attr('title')));\n                    }\n                }\n            }\n            else\n            {\n                $activity.find(\".commands\").append($backup);\n            }\n        }\n        // Get activity name\n        var activityClass = $activity[0].className;\n        var modtype = activityClass.substr(activityClass.indexOf('modtype_') + 8);\n        var activityName = this.str('activity_string');\n        if (modtype !== 'label') {\n            activityName = $('.activity#' + $activity[0].id)\n                .find('.activityinstance p.instancename')\n                .html();\n        }\n\n        $backup.click(function(e)\n        {\n            on_backup(e, activityName);\n        });\n    };\n\n    snapFix = (input) => {\n        const course = input.course;\n        const iconBackup = input.iconBackup;\n        const on_section_backup = input.on_section_backup;\n        const on_backup = input.on_backup;\n        const _this = this;\n\n        if(course.is_frontpage)\n        {\n            if($('.sitetopic li.activity').length > 0)\n            {\n                var valid = $('.sitetopic li.activity').data('block-sharing-cart');\n                if(valid !== 'done')\n                {\n                    $('.sitetopic li.activity').each(function()\n                    {\n                        _this.add_backup_command($(this), iconBackup, on_backup);\n                    });\n                    $('.sitetopic li.activity').data(\"block-sharing-cart\", \"done\");\n                }\n            }\n            if($('.block_site_main_menu').length > 0)\n            {\n                var valid = $('.block_site_main_menu .content > ul >  li').data('block-sharing-cart');\n                if(valid !== 'done')\n                {\n                    $('.block_site_main_menu .content > ul >  li').each(function()\n                    {\n                        _this.add_backup_command($(this), iconBackup, on_backup);\n                    });\n                    $('.block_site_main_menu .content > ul >  li').data(\"block-sharing-cart\", \"done\");\n                }\n            }\n        }\n        else\n        {\n            if($('.course-content li.activity').length > 0)\n            {\n                var valid = $('.course-content li.activity').data('block-sharing-cart');\n                if(valid !== 'done' || this.courseSections.length == 1)\n                {\n                    $('.course-content li.activity').each(function()\n                    {\n                        _this.add_backup_command($(this), iconBackup, on_backup);\n                    });\n                    $('.course-content li.activity').data(\"block-sharing-cart\", \"done\");\n                }\n            }\n        }\n\n        if (M.cfg.theme !== 'snap') {\n            let _this = this;\n            $(\"li.section\").each(function () {\n                var sectionID = $(this).find(\"div.content h3.sectionname span.inplaceeditable\").attr(\"data-itemid\");\n\n                var $menu = $(this).find(\"ul[role='menu']\").first();\n\n                if ($menu.length){\n                    var li = $menu.find('li').first().clone();\n                    var img = li.find('img');\n\n                    if (img.length) {\n                        img.attr('alt', _this.str('backup'))\n                            .attr('title', _this.str('backup'))\n                            .attr('src', M.util.image_url(iconBackup.pix, null));\n                    } else {\n                        li.find('i')\n                            .attr('class', 'icon fa fa-upload')\n                            .attr('title', _this.str('backup'))\n                            .attr('aria-label', _this.str('backup'));\n                    }\n\n                    li.find('span').html(_this.str('backup'));\n                    li.find('a').attr('href', 'javascript:void(0)'); //eslint-disable-line no-script-url\n\n                    $menu.append(li);\n\n                    li.find('a').click(function () {\n                        on_section_backup(sectionID);\n                    });\n                }\n                else {\n                    $menu = $(this).find(\"div[role='menu']\").first();\n\n                    var $backup = null;\n\n                    if ($menu.length) {\n                        const cssClass = iconBackup.css;\n                        const title = _this.str('backup');\n                        const imageUrl =  M.util.image_url(iconBackup.pix);\n                        $backup = _this.create_special_activity_command(cssClass, title, imageUrl);\n                        $menu.append($backup.attr(\"role\", \"menuitem\"));\n\n                        if ($menu.css(\"display\") === \"none\") {\n                            $backup.append($(\"<span class='menu-action-text'/>\").append($backup.attr('title')));\n                        }\n                    }\n                    else {\n                        $backup = _this.create_command(\"backup\");\n                        $(this).find(\".commands\").append($backup);\n                    }\n\n                    $backup.click(function () {\n                        on_section_backup(sectionID);\n                    });\n                }\n            });\n        } else {\n            $.each($(\"a.snap-delete\"), function(i, val)\n            {\n                var sectionID = $(val).attr(\"href\").split('?')[1].split('&')[0].split('=')[1];\n                var $link = $('<a/>').attr('class', 'snap-sharing-cart').attr('role', 'button').attr('id', sectionID);\n                $link.attr('tabindex', '0').attr('title', 'Backup Section');\n                var $button = $(val).parent().find('a.snap-sharing-cart');\n                if ($button.length == 0) {\n                    $(val).parent().append($link);\n                }\n            });\n\n            $('a.snap-sharing-cart').unbind().click(function () {\n                const sectionId = $(this).attr('id');\n                const section = _this.courseSections ? _this.courseSections.find(section => section['id'] === sectionId)\n                    : {num: 0, name: undefined};\n                const sectionNumber = section['num'];\n                const courseId = course.id;\n                const sectionName = section['name'] === null ? undefined : section['name'];\n                on_section_backup(sectionId, sectionNumber, courseId, sectionName);\n            });\n        }\n    };\n}"],"names":["icon","css","iconClass","constructor","params","identifier","M","str","block_sharing_cart","moodle","name","iconElement","attr","this","addClass","append","cssClass","title","imageUrl","spinner","snapSpinner","show","hide","args","url","cfg","wwwroot","q","k","push","encodeURIComponent","join","input","restore_targets","course","get_action_url","id","sectionsURLs","sectionsjs","forEach","section","urlArray","is_directory","num","sesskey","document","URL","data","sectionName","find","each","text","sectionURL","create","type","ModalFactory","types","SAVE_CANCEL","body","sections","s","i","length","done","modal","getRoot","on","ModalEvents","save","window","location","href","val","cancel","destroy","$activity","iconBackup","on_backup","$menu","li","first","clone","$backup","util","image_url","pix","html","create_command","create_special_activity_command","activityClass","className","modtype","substr","indexOf","activityName","click","e","on_section_backup","_this","is_frontpage","add_backup_command","courseSections","theme","sectionID","img","split","$link","parent","unbind","sectionId","undefined","sectionNumber","courseId"],"mappings":"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"}