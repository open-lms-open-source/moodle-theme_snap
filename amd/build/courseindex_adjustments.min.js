define("theme_snap/courseindex_adjustments",["exports","core/config"],(function(_exports,_config){var obj;
/**
   * Additional settings in the course index.
   *
   * @module theme_snap/courseindex_adjustments
   * @copyright  Copyright (c) 2025 Open LMS
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_config=(obj=_config)&&obj.__esModule?obj:{default:obj};const injectIcons=root=>{root.querySelectorAll(".activityiconcontainer[data-cmid]").forEach((container=>{var _container$closest;if(container.dataset.iconInjected)return;container.dataset.iconInjected="1";const link=null===(_container$closest=container.closest("li.courseindex-item"))||void 0===_container$closest?void 0:_container$closest.querySelector("a.courseindex-link");if(!link)return;const match=(link.getAttribute("href")||"").match(/\/mod\/([^/]+)\//);if(!match)return;const modname=match[1],iconurl=(modname=>"".concat(_config.default.wwwroot,"/theme/image.php/").concat(_config.default.theme,"/").concat(modname,"/").concat(_config.default.themerev,"/monologo?filtericon=1"))(modname),img=document.createElement("img");img.src=iconurl,img.alt="".concat(modname," icon"),img.className="".concat(modname," icon activityicon"),container.appendChild(img)}))},injectTitles=root=>{root.querySelectorAll("a.courseindex-link").forEach((link=>{if(!link.hasAttribute("title")){const text=link.textContent.trim();text&&link.setAttribute("title",text)}}))},processNode=node=>{1===node.nodeType&&(injectIcons(node),injectTitles(node))};_exports.init=()=>{injectIcons(document),injectTitles(document);const target=document.querySelector("#courseindex");if(target){new MutationObserver((mutations=>{mutations.forEach((m=>{m.addedNodes.forEach(processNode)}))})).observe(target,{childList:!0,subtree:!0})}}}));

//# sourceMappingURL=courseindex_adjustments.min.js.map